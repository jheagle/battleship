!function t(e,n,r){function o(c,u){if(!n[c]){if(!e[c]){const t="function"==typeof require&&require;if(!u&&t)return t(c,!0);if(i)return i(c,!0);const e=new Error("Cannot find module '"+c+"'");throw e.code="MODULE_NOT_FOUND",e}const s=n[c]={exports:{}};e[c][0].call(s.exports,(function(t){return o(e[c][1][t]||t)}),s,s.exports,t,e,n,r)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(t,e,n){"use strict";(function(){const r=this||{},o=r.gameActions||{},i={};r.gameActions=i,i.noConflict=function(){return r.gameActions=o,i};let c=r.jDomCore;void 0===c&&(void 0!==t?c=t("./jDom/core/core.js"):console.error("actions.js requires jDom/core/core"));let u=r.jDomCoreDom;void 0===u&&(void 0!==t?u=t("./jDom/core/dom/core.js"):console.error("actions.js requires jDom/core/dom/core"));let s=r.jDomMatrixObjects;void 0===s&&(void 0!==t?s=t("./jDom/matrix/objects.js"):console.error("actions.js requires jDom/matrix/objects"));let a=r.jDomMatrixCore;void 0===a&&(void 0!==t?a=t("./jDom/matrix/core.js"):console.error("actions.js requires jDom/matrix/core"));let l=r.gameLayout;void 0===l&&(void 0!==t?l=t("./layout.js"):console.error("actions.js requires game/layout"));let f=r.gamePieces;void 0===f&&(void 0!==t?f=t("./pieces.js"):console.error("actions.js requires game/pieces"));let d=r.gameUtils;void 0===d&&(void 0!==t?d=t("./functions.js"):console.error("actions.js requires game/functions"));const m=function(t,e){return e?(i.attackFleet.isLocked=!0,c.queueTimeout((function(){return t.isHit&&(t.attributes.style.backgroundColor=t.hasShip?"red":"white"),t=u.updateElement(t),i.attackFleet.isLocked=!1,t}),0)):(t.isHit&&(t.attributes.style.backgroundColor=t.hasShip?"red":"white"),t=u.updateElement(t)),t},p=function(t,e,n,r,o){const i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return m(c.mergeObjectsMutable(e.children[o].children[r].children[n],t),i)},h=c.curry(p)(c.mergeObjects(f.shipTile(),{attributes:{style:{backgroundColor:"#777"}}})),y=c.curry(p)(f.shipTile()),b=c.curry(p)(f.hitTile());i.setShip=function(t,e,n){return n?h(t,e.x,e.y,e.z):y(t,e.x,e.y,e.z)};const g=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(Math.round(100*t.status)/100,"%");return t.playerStats=u.updateElements(c.mergeObjects(t.playerStats,f.playerStats(t,e))),t};i.updatePlayer=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.attacker&&(e?++t.attacks.hit:++t.attacks.miss,n&&++t.attacks.sunk),e||(t.attacker=!t.attacker,i.attackFleet.isLocked=!0,t.attacker?(t.isRobot||c.queueTimeout((function(){return i.attackFleet.isLocked=!1,t.board.children.map((function(t){return t.children.map((function(t){return t.children.map((function(t){return u.updateElement(c.mergeObjects(t,{attributes:{style:{width:"17px",height:"17px"}}}))}))}))}))}),400),++t.turnCnt):c.queueTimeout((function(){return i.attackFleet.isLocked=!1,t.board.children.map((function(t){return t.children.map((function(t){return t.children.map((function(t){return u.updateElement(c.mergeObjects(t,{attributes:{style:{width:"35px",height:"35px"}}}))}))}))}))}),0));const r=c.queueTimeout((function(){return g(t,t.attacker?"ATTACKER":"".concat(Math.round(100*t.status)/100,"%"))}),0);return r.result||t};const v=function(t,e,n,r){let o=(r=r.filter((function(t){return t.status>0}))).reduce((function(t,e){return t.attacker?t:e}));if(o=i.updatePlayer(o,e,n),r.length<2)return c.queueTimeout((function(){return function(t){const e=u.getTopParentItem(t),n=t.parentItem.children;n.map((function(t){return g(t)})),t=g(t,"WINNER");return u.renderHTML(l.finalScore(n),e).children[0].children.map((function(t){return t.attributes.innerHTML})),[c.trace("Winner")(t)]}(r[0])}),200);const s=function(t,e,n){return n?t:i.updatePlayer(function t(e,n,r){const o=n.length>1&&r>=n.length-1?n[0]:n[++r];return o.status>0?o:t(e,n,r)}(t,e,e.indexOf(t)),n)}(o,r,e);return s.isRobot&&c.queueTimeout(i.computerAttack,0,s,r),r};i.attackFleet=function(t){i.attackFleet.isLocked=i.attackFleet.isLocked||!1;let e=u.getParentsByClass("player",t)[0];const n=u.getParentsByClass("boards",t)[0].children;if(e.status<=0||e.attacker||i.attackFleet.isLocked)return n;const r=b(e.board,t.point.x,t.point.y,t.point.z,n.reduce((function(t,e){return t.attacker?t:e})).isRobot);let o=!1,c=0;if(r.hasShip){let n=0;e.shipFleet.map((function(e){const r=e.parts.filter((function(n){return a.areEqualPoints(n.point,t.point)&&(o=e),!n.isHit}));return e.status=r.length/e.parts.length*100,n+=e.status,e})),e.status=n/e.shipFleet.length}return o&&(e=g(e,"".concat(Math.round(100*e.status)/100,"%")),c=o.status<=0?o.parts.length:0),v(0,r.hasShip,c,n)},i.attackListener=function(t,e){return i.attackFleet(a.getDomItemFromElement(t.target,e))};var j=function(t,e,n){return[c.queueTimeout(O,0,{targets:t,victim:n}),c.queueTimeout(O,200,{targets:t,target:e,victim:n})]},O=function(t){return t.victim.board.children.map((function(t){return u.updateElement(c.mergeObjects(t,{attributes:{style:{borderColor:"#333"}}}))})),t.targets.forEach((function(e){return u.updateElement(c.mergeObjects(a.getDomItemFromPoint(e,t.victim.board),{attributes:{style:{borderColor:"#333"}}}))})),t.target||(t.victim.board.children.map((function(t){return u.updateElement(c.mergeObjects(t,{attributes:{style:{borderColor:"yellow"}}}))})),t.targets.forEach((function(e){return u.updateElement(c.mergeObjects(a.getDomItemFromPoint(e,t.victim.board),{attributes:{style:{borderColor:"yellow"}}}))}))),t};i.computerAttack=function(t,e){const n=function(t){const e=d.getBrokenShipsPlayers(t).length?d.getBrokenShipsPlayers(t):d.getLowStatusItems(t);return 1===e.length?e[0]:e[c.randomInteger(e.length)]}(e.filter((function(t){return!t.attacker})));return i.attackFleet.isLocked=!1,i.attackFleet(function(t){const e=d.getBrokenItems(t.shipFleet);let n=[];if(e.length){const r=e.filter((function(t){return d.numDamagedParts(t.parts.length,t.status)>1})),o=d.getALowStatusItem(r.length?r:e).parts.filter((function(e){return d.checkIfHitCell(e.point,t.board)}));if(r.length){for(let e=0;e<o.length;++e){const n=a.testPointsBetween(o[0].point,o[e].point,t.board,d.checkIfHitCell,!1);if(n.false.length)return j(n.false,n.false[0],t),a.getDomItemFromPoint(n.false[0],t.board)}const e=(a.pointDifference(o[0].point,o[1].point).x>0?[s.point(-1,0,0),s.point(1,0,0)]:[s.point(0,-1,0),s.point(0,1,0)]).map((function(t,e){return a.nextCell(o[(o.length-1)*e].point,t)})).filter((function(e){return a.checkValidPoint(e,t.board)})).filter((function(e){return!d.checkIfHitCell(e,t.board)})),n=e.reduce((function(e,n){return d.checkIfHitCell(e,t.board)?n:e}));if(n)return j(e,n,t),a.getDomItemFromPoint(n,t.board)}n=d.getAdjEdgeNonHitCells(o[0].point,t.board)}const r=n.length?n:d.getAllNonHitCells(t.board).filter((function(t){return d.filterAdjacentPoints(t)})),o=r[c.randomInteger(r.length)];return j(r,o,t),a.getDomItemFromPoint(o,t.board)}(n))},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=i),n=Object.assign(n,i))}).call(window||{})},{"./functions.js":2,"./jDom/core/core.js":5,"./jDom/core/dom/core.js":6,"./jDom/matrix/core.js":8,"./jDom/matrix/objects.js":9,"./layout.js":18,"./pieces.js":20}],2:[function(t,e,n){"use strict";(function(){const r=this||{},o=r.gameUtils||{},i={};r.gameUtils=i,i.noConflict=function(){return r.gameUtils=o,i};let c=r.jDomMatrixCore;void 0===c&&(void 0!==t?c=t("./jDom/matrix/core.js"):console.error("functions.js requires jDom/matrix/core")),i.checkIfShipCell=function(t,e){return e.children[t.z].children[t.y].children[t.x].hasShip},i.checkIfHitCell=function(t,e){return e.children[t.z].children[t.y].children[t.x].isHit},i.getAllNonHitCells=function(t){return c.getAllPoints(t).filter((function(e){return!i.checkIfHitCell(e,t)}))},i.getAdjEdgeNonHitCells=function(t,e){return c.adjacentEdgePoints(t,e).filter((function(t){return!i.checkIfHitCell(t,e)}))},i.getALowStatusItem=function(t){return t.reduce((function(t,e){return e.status<=t.status?e:t}))},i.getLowStatusItems=function(t){return t.filter((function(e){return e.status<=i.getALowStatusItem(t).status}))},i.getBrokenItems=function(t){return t.filter((function(t){return t.status<100&&t.status>0}))},i.getBrokenShipsPlayers=function(t){return t.filter((function(t){return i.getBrokenItems(t.shipFleet).length}))},i.numDamagedParts=function(t,e){return t-Math.ceil(e/100*t)},i.filterAdjacentPoints=function(t){return t.z%2==0&&(t.x%2==0&&t.y%2==0||t.x%2!=0&&t.y%2!=0)||t.z%2!=0&&(t.x%2!=0&&t.y%2==0||t.x%2==0&&t.y%2!=0)},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=i),n=Object.assign(n,i))}).call(window||{})},{"./jDom/matrix/core.js":8}],3:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const c=function(){function t(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,r=void 0===n?null:n,i=e.prev,c=void 0===i?null:i,u=e.next,s=void 0===u?null:u,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;o(this,t),this.LinkerClass=a,this.data=r,this.prev=c,this.next=s}var e,n,c;return e=t,(n=[{key:"after",value:function(t){return t.LinkerClass||("object"!==r(t)&&(t={data:t}),t=new this.LinkerClass(t)),t.next=this.next,t.prev=this,this.next=t,t.next&&(t.next.prev=t),t}},{key:"before",value:function(t){return t.LinkerClass||("object"!==r(t)&&(t={data:t}),t=new this.LinkerClass(t)),t.prev=this.prev,t.next=this,this.prev=t,t.prev&&(t.prev.next=t),t}}])&&i(e.prototype,n),c&&i(e,c),t}();c.fromArray=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return t.reduce((function(t,n){return null===t?("object"!==r(n)&&(n={data:n}),new e(Object.assign({},n,{prev:t}))):c.prototype.after.apply(t,[n])}),null)},e.exports=c},{}],4:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){const e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){const n=a(t);let r;if(e){const t=a(this).constructor;r=Reflect.construct(n,arguments,t)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const l=t("./Linker"),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,t);const e=u(n);function n(){let t;const r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.data,c=void 0===i?null:i,u=r.prev,s=void 0===u?null:u,a=r.next,l=void 0===a?null:a,f=r.children,d=void 0===f?null:f,m=r.parent,p=void 0===m?null:m,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return o(this,n),t=e.call(this,{data:c,prev:s,next:l},h),t.parent=p,t.children=t.childrenFromArray(d,h),t}var r,s,a;return r=n,(s=[{key:"childrenFromArray",value:function(){const t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return null!==e?l.fromArray.apply(this,[e.map((function(e){return Object.assign({},e,{parent:t})})),r]):null}}])&&i(r.prototype,s),a&&i(r,a),n}(l);e.exports=f},{"./Linker":3}],5:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);let n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(function(){const t=this||{},i=t.jDomCore||{},c={};t.jDomCore=c,c.noConflict=function(){return t.jDomCore=i,c},c.curry=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.length>=t.length?t.apply(void 0,n):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return c.curry(t).apply(void 0,[].concat(n,r))}}},c.pipe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},c.setValue=function(t,e,n){return n[t]=e,n},c.setAndReturnValue=function(t,e,n){return t[e]=n,n},c.mapObject=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.isArray(t)?t.map(e,n):Object.keys(t).reduce((function(n,r){return c.setValue(r,e.apply(void 0,o([t[r],r,t].slice(0,e.length||2))),n)}),n||{})},c.mapProperty=function(t,e,n){return n[t]=c.mapObject(n[t]||[],e),n},c.filterObject=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.isArray(t)?t.filter(e,n):Object.keys(t).reduce((function(n,r){return e.apply(void 0,o([t[r],r,t].slice(0,e.length||2)))?n[r]=t[r]:delete n[r],n}),n||{})},c.reduceObject=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t[Object.keys(t)[0]]||t[0];return Array.isArray(t)?t.reduce(e,n):Object.keys(t).reduce((function(n,r){return e.apply(void 0,o([n,t[r],r,t].slice(0,e.length||2)))}),n)},c.notEmptyObjectOrArray=function(t){return!!("object"===r(t)&&Object.keys(t).length||Array.isArray(t)&&t.length)};c.cloneObject=function(t){return function t(e,n){return c.notEmptyObjectOrArray(e)?c.reduceObject(e,(function(e,r,o){return e[o]=n[o]&&!/^(parentItem|listenerArgs|element)$/.test(o)?t(r,n[o]):r,e}),n):n}(t,JSON.parse(JSON.stringify(t,(function(t,e){return/^(parentItem|listenerArgs|element)$/.test(t)?void 0:e}))))};const u=function(t,e,n){const r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return c.notEmptyObjectOrArray(n)?c.mapObject(n,(function(n,r){return e[r]&&!/^(parentItem|listenerArgs|element)$/.test(r)?t(e[r],n):n}),r?e:c.cloneObject(e)):n};c.mergeObjects=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 2===e.length?u(c.mergeObjects,e[0],e[1]):1===e.length?c.cloneObject(e[0]):e.reduce(c.curry(u)(c.mergeObjects),{})},c.mergeObjectsMutable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 2===e.length?u(c.mergeObjectsMutable,e[0],e[1],!0):1===e.length?e[0]:e.reduce(c.curry(u)(c.mergeObjectsMutable),{})};const s=function t(e,n,r){const o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return--r>0?t(e,e?n:c.cloneObject(n),r,o.concat([n])):o.concat([n])};c.buildArray=c.curry(s)(!1),c.buildArrayOfReferences=c.curry(s)(!0),c.inArray=function(t,e){return t.indexOf(e)>=0},c.getAbsoluteMax=function(t,e){return Math.abs(t)>Math.abs(e)?t:e},c.getAbsoluteMin=function(t,e){return Math.abs(t)<Math.abs(e)?t:e},c.randomNumber=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(Math.random()*t+e)*n},c.randomInteger=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(Math.floor(Math.random()*t)+e)*n},c.compare=function(t,e){return t===e?0:t>e?1:-1},c.compareArrays=function(t,e){return e.filter((function(e){return!c.inArray(t,e)})).concat(t).reduce((function(n,r){return c.setValue("string"==typeof r?r:JSON.stringify(r,(function(t,e){return/^(parentItem|listenerArgs|element)$/.test(t)?void 0:e})),c.compare(t.filter((function(t){return t===r})).length,e.filter((function(t){return t===r})).length),n)}),{})},c.trace=function(t){return function(e){return console.info("".concat(t,": "),e),e}},c.queueTimeout=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c.queueTimeout.queue=c.queueTimeout.queue||[],c.queueTimeout.isRunning=c.queueTimeout.isRunning||!1;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];const u={id:0,func:t,timeout:e,args:r,result:0};if(t&&c.queueTimeout.queue.push(u),c.queueTimeout.queue.length&&!c.queueTimeout.isRunning){c.queueTimeout.isRunning=!0;const t=c.queueTimeout.queue.shift();return t.id=setTimeout((function(){return t.result=t.func.apply(t,o(t.args)),c.queueTimeout.isRunning=!1,c.queueTimeout(!1)}),t.timeout),t}return u},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=c),n=Object.assign(n,c))}).call(window||{})},{}],6:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){let i=this||{};const c=i.jDomCoreDom||{},u={};i.jDomCoreDom=u,u.noConflict=function(){return i.jDomCoreDom=c,u};let s=i.document;void 0===s&&(void 0!==t?(i=t("../../pseudoDom/objects.js").generate(i),s=i.document):console.error("jDom/core/dom/core requires jDom/pseudoDom/objects"));let a=i.jDomCore;void 0===a&&(void 0!==t?a=t("../core.js"):console.error("jDom/core/dom/core requires jDom/core/core"));let l=i.jDomObjects;void 0===l&&(void 0!==t?l=t("./objects.js"):console.error("jDom/core/dom/core requires jDom/core/dom/objects")),u.elementHasAttribute=function(t,e,n){return!!t.style&&(/^(style|className)$/.test(e)?a.compareArrays("string"==typeof n?n.split(" "):Object.keys(n),"string"==typeof n?t[e].split(" "):Object.keys(t[e])):t.hasAttribute(e)&&t.getAttribute(e)===n)},u.elementCompareClassList=function(t,e){return a.compareArrays(e.split(" "),[].from(t.classList))},u.elementChanges=function(t){return t.element.tagName.toLowerCase()!==t.tagName.toLowerCase()?u.generateElement(t):a.setValue("attributes",a.filterObject(t.attributes,(function(e,n){return a.filterObject(a.mapObject(t.attributes,(function(e,n){return"object"===o(e)||"className"===n?a.filterObject(u.elementHasAttribute(t.element,n,e),(function(t){return 1===t})):!u.elementHasAttribute(t.element,n,e)})),(function(t){return!!t}))[n]})),t)},u.setAttribute=function(t,e,n){return t.element.setAttribute(e,n),t},u.setAndReturnAttribute=function(t,e,n){return t.element.setAttribute(e,n),n},u.updateElement=function(t){return t.element.style?a.setValue("attributes",a.mapObject(u.elementChanges(t).attributes,(function(e,n){return a.notEmptyObjectOrArray(e)?a.mapObject(a.filterObject(e,(function(t,e){return/^\D+$/.test(e)})),(function(e,n){return a.setAndReturnValue(t.element.style,n,e)}),t.element.style):n in t.element?a.setAndReturnValue(t.element,n,e):u.setAndReturnAttribute(t,n,e)})),t):t},u.updateElements=function(t){return a.mapProperty("children",(function(t){return u.updateElements(t)}),u.updateElement(t))},u.generateElement=function(t){return u.updateElement(a.setValue("element",s.createElement(t.tagName),t))},u.bindElement=function(t){return a.setValue("element",t.element&&t.element.style?t.element:u.generateElement(t).element,t)};const f=function(t){return t.body?t.body:t},d=function(t,e){return a.inArray(e,t)?e:e.concat([t])},m=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.documentItem.body;return f(e).element.appendChild(t.element),t};u.appendHTML=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.documentItem.body;return m(u.bindElement(t),a.setValue("children",d(t,f(e).children),f(e)))},u.removeChild=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.documentItem.body;return e.element.removeChild(t.element),e.children.splice(e.children.indexOf(t),1)},u.registerListener=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.documentItem;return Object.assign(n.eventListeners,r({},e,t))},u.registerListeners=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.documentItem;return a.mergeObjects(e,{eventListeners:e.eventListeners},{eventListeners:t})},u.retrieveListener=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.documentItem;return a.inArray(Object.keys(e.eventListeners),t)?e.eventListeners[t]:{}};u.assignListener=function(t,e,n,r){return e.addEventListener?e.addEventListener(t,n,function t(e){if(void 0===t.supportsOptions){t.supportsOptions=!0;try{window.addEventListener("test",null,{capture:!1,once:!1,passive:!1})}catch(e){t.supportsOptions=!1}}return!("object"!==o(e)||!t.supportsOptions)&&e}(r)):e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n,n},u.appendListeners=function(t,e,n){const r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return a.mapProperty("children",(function(t){return u.appendListeners(t,e,n,r,o)}),a.setValue("eventListeners",a.setValue(e,{listenerFunc:n,listenerArgs:r,listenerOptions:o},t.eventListeners),t))};u.bindListeners=function(t){return t.eventListeners&&Object.keys(t.eventListeners).length&&t.element.style?function(t){return a.mapProperty("eventListeners",(function(e,n){return u.assignListener(n,t.element,(function(n){return e.listenerFunc(n,t,e.listenerArgs)}),e.listenerOptions)}),t)}(t):t},u.bindAllListeners=function(t){return a.mapProperty("children",(function(t){return u.bindAllListeners(t)}),u.bindListeners(t))},u.gatherChildItems=function(t,e){return e(t,t.children.reduce((function(t,n){return t.concat(u.gatherChildItems(n,e))}),[]))};const p=function(t,e){return function(n,r){return n.attributes[t]&&n.attributes[t]===e?r.concat([n]):r}};u.getChildrenFromAttribute=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.documentItem.body;return u.gatherChildItems(n,p(t,e))},u.getChildrenByClass=a.curry(u.getChildrenFromAttribute)("className"),u.getChildrenByName=a.curry(u.getChildrenFromAttribute)("name"),u.getParentsFromAttribute=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.documentItem.body;return Object.keys(n.parentItem).length?(n.parentItem.attributes[t]||n[t]||!1)===e?u.getParentsFromAttribute(t,e,n.parentItem).concat([n.parentItem]):u.getParentsFromAttribute(t,e,n.parentItem):[]},u.getParentsByClass=a.curry(u.getParentsFromAttribute)("className"),u.getParentsByName=a.curry(u.getParentsFromAttribute)("name"),u.getParentsByTagName=a.curry(u.getParentsFromAttribute)("tagName"),u.getTopParentItem=function(t){return Object.keys(t.parentItem).length?u.getTopParentItem(t.parentItem):t},u.renderHTML=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.documentItem;return a.pipe((function(t){return a.setValue("element",t.element&&t.element.style?t.element:u.bindElement(t).element,t)}),(function(t){return a.setValue("eventListeners",a.mapObject(t.eventListeners,(function(t){return a.mergeObjects(t,{listenerFunc:u.retrieveListener(t.listenerFunc,u.getTopParentItem(e))})})),t)}),a.curry(a.setValue)("parentItem",e.body||e),(function(t){return u.bindListeners(u.appendHTML(t,e))}),(function(t){return a.mapProperty("children",(function(e){return u.renderHTML(e,t)}),t)}))(a.mapObject(l.createDomItem(t),(function(t){return t}),t))},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=u),n=Object.assign(n,u))}).call(window||{})},{"../../pseudoDom/objects.js":17,"../core.js":5,"./objects.js":7}],7:[function(t,e,n){"use strict";(function(){let r=this||{},o=r.document;Object.keys(r).length||(void 0!==t?(r=t("../../pseudoDom/objects.js").generate(r),o=r.document):console.error("objects.js requires jDom/pseudoDom/objects"));const i=r.jDomObjects||{},c={};r.jDomObjects=c,c.noConflict=function(){return r.jDomObjects=i,c};let u=r.jDomCore;void 0===u&&(void 0!==t?u=t("../core.js"):console.error("jDom/core/dom/objects requires jDom/core/core")),c.createDomItem=function(){let t;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=u).mergeObjectsMutable.apply(t,[{tagName:"div",attributes:{style:{}},element:{},eventListeners:{},parentItem:{},children:[]}].concat(n))};const s=function(){return[c.createDomItem({tagName:"head",attributes:{},element:o.head,children:[]}),c.createDomItem({tagName:"body",attributes:{},element:o.body,children:[]})]},a=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.createDomItem({tagName:"html",attributes:{},element:o,eventListeners:e,children:t,head:t[0],body:t[1]})};c.documentDomItem=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a(s(),t);return e.children=e.children.map((function(t){return c.createDomItem(t,{parentItem:e})})),Object.assign(e.head,e.children[0]),Object.assign(e.body,e.children[1]),c.createDomItem(e)},c.documentItem=c.documentDomItem(),void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=c),n=Object.assign(n,c))}).call(window||{})},{"../../pseudoDom/objects.js":17,"../core.js":5}],8:[function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);let n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(){const o=this||{},c=o.jDomMatrixCore||{},u={};o.jDomMatrixCore=u,u.noConflict=function(){return o.jDomMatrixCore=c,u};let s=o.jDomCore;void 0===s&&(void 0!==t?s=t("../core/core.js"):console.error("jDom/matrix/core requires jDom/core/core"));let a=o.jDomMatrixObjects;void 0===a&&(void 0!==t?a=t("./objects.js"):console.error("jDom/matrix/core requires jDom/matrix/objects")),u.bindPointData=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.point(0,0,0);return s.mergeObjects(t,t.point?{point:s.cloneObject(e)}:{children:t.children.map((function(t,n){return u.bindPointData(t,Object.assign(e,i({},t.axis,n)))}))})},u.nextCell=function(t,e){return a.point(t.x+e.x,t.y+e.y,t.z+e.z)},u.pointDifference=function(t,e){return a.point(e.x-t.x,e.y-t.y,e.z-t.z)},u.areEqualPoints=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},u.getHighestAbsoluteCoordinate=function(t){return s.reduceObject(t,s.getAbsoluteMax,0)},u.getFirstAxisOfCoordinate=function(t,e){return Object.keys(t).filter((function(n){return t[n]===e}))[0]||!1};const l=function(t){return function(t,e){return!1!==(n=u.getFirstAxisOfCoordinate(t,e))?s.mergeObjects(a.point(0,0,0),i({},"".concat(n),e>0?1:-1)):a.point(0,0,0);var n}(t,u.getHighestAbsoluteCoordinate(t))};u.pointsToDirection=function(t,e){return l(u.pointDifference(t,e))},u.randomStart=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.point(10,10,10);return a.point(s.randomInteger(n.x-(t-1)*e.x),s.randomInteger(n.y-(t-1)*e.y),s.randomInteger(n.z-(t-1)*e.z))},u.lineEndPoint=function(t,e,n){return a.point(t.x+n.x*(e-1),t.y+n.y*(e-1),t.z+n.z*(e-1))},u.getPointsLine=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return u.areEqualPoints(t,e)?n.concat([t]):u.getPointsLine(u.nextCell(t,u.pointsToDirection(t,e)),e,n.concat([t]))},u.getPointsLines=function(t){return t.reduce((function(t,e){return t.concat(u.getPointsLine.apply(u,r(e)))}),[])},u.testPointsBetween=function(t,e,n,r){const o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return u.getPointsLine(t,e).filter((function(t,e,n){return 0!==e&&e!==n.length-1||o})).reduce((function(t,e){return s.mergeObjects(t,i({},"".concat(r(e,n)),[e]))}),{true:[],false:[]})},u.checkInBetween=function(){return!!u.testPointsBetween.apply(u,arguments).true.length},u.getAxisLengths=function(t){return a.point(t.children[0].children[0].children.length,t.children[0].children.length,t.children.length)},u.randDirection=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length?t[s.randomInteger(t.length)]:a.point(0,0,0)},u.checkValidPoint=function(t,e){return!!(e.children[t.z]&&e.children[t.z].children[t.y]&&e.children[t.z].children[t.y].children[t.x]&&e.children[t.z].children[t.y].children[t.x].point)},u.getDomItemFromPoint=function(t,e){return!!u.checkValidPoint(t,e)&&e.children[t.z].children[t.y].children[t.x]},u.getAllPoints=function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.point?e.concat([t.point]):t.children.reduce((function(t,e){return t.concat(u.getAllPoints(e,[]))}),[])},u.adjacentPoints=function(t,e){return u.getPointsLines([[a.point(-1,1,1),a.point(1,-1,-1)],[a.point(1,1,1),a.point(-1,1,-1)],[a.point(-1,-1,1),a.point(1,-1,1)],[a.point(1,0,0),a.point(1,1,-1)],[a.point(-1,1,0),a.point(1,1,0)]]).concat([a.point(0,0,1),a.point(1,0,0),a.point(-1,0,-1),a.point(0,0,-1)]).map((function(e){return u.nextCell(t,e)})).filter((function(n){return u.checkValidPoint(u.nextCell(t,n),e)}))},u.adjacentEdgePoints=function(t,e){return[a.point(-1,0,0),a.point(1,0,0),a.point(0,-1,0),a.point(0,1,0),a.point(0,0,-1),a.point(0,0,1)].map((function(e){return u.nextCell(t,e)})).filter((function(t){return u.checkValidPoint(t,e)}))},u.getPointFromElement=function(t){return a.point(Array.from(t.parentNode.childNodes).indexOf(t),Array.from(t.parentNode.parentNode.childNodes).indexOf(t.parentNode),Array.from(t.parentNode.parentNode.parentNode.childNodes).indexOf(t.parentNode.parentNode))},u.getDomItemFromElement=function(t,e){return u.getDomItemFromPoint(u.getPointFromElement(t),e)},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=u),n=Object.assign(n,u))}).call(window||{})},{"../core/core.js":5,"./objects.js":9}],9:[function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);let n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(function(){const o=this||{},i=o.jDomMatrixObjects||{},c={};o.jDomMatrixObjects=c,c.noConflict=function(){return o.jDomMatrixObjects=i,c};let u=o.jDomCore;void 0===u&&(void 0!==t?u=t("../core/core.js"):console.error("objects.js requires jDomCore"));let s=o.jDomObjects;void 0===s&&(void 0!==t?s=t("../core/dom/objects.js"):console.error("core.js requires jDomObjects")),c.point=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{x:t,y:e,z:n}},c.tile=function(){return{point:{}}},c.matrix=function(){let t,e,n,o;const i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{coordinate:0,props:[]},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{coordinate:0,props:[]},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{coordinate:1,props:[]},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(t=s).createDomItem.apply(t,[{tagName:"div",attributes:{className:"matrix"},children:u.buildArray((e=s).createDomItem.apply(e,[{axis:"z",tagName:"div",attributes:{className:"layer"},children:u.buildArray((n=s).createDomItem.apply(n,[{axis:"y",tagName:"div",attributes:{className:"row"},children:u.buildArray((o=s).createDomItem.apply(o,[{axis:"x",tagName:"div",attributes:{className:"column"}}].concat(r(i.props))),i.coordinate)}].concat(r(c.props))),c.coordinate)}].concat(r(a.props))),a.coordinate)}].concat(r(l)))},c.square=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?[]:e,r=t.y,o=void 0===r?[]:r,i=t.z,u=void 0===i?[]:i,s=t.matrixProps,a=void 0===s?[]:s,l=arguments.length>1?arguments[1]:void 0;return c.matrix({coordinate:l,props:n},{coordinate:l,props:o},{coordinate:1,props:u},a)},c.cube=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?[]:e,r=t.y,o=void 0===r?[]:r,i=t.z,u=void 0===i?[]:i,s=t.matrixProps,a=void 0===s?[]:s,l=arguments.length>1?arguments[1]:void 0;return c.matrix({coordinate:l,props:n},{coordinate:l,props:o},{coordinate:l,props:u},a)},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=c),n=Object.assign(n,c))}).call(window||{})},{"../core/core.js":5,"../core/dom/objects.js":7}],10:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){const r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(!r)return;const o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){const e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){const n=l(t);let r;if(e){const t=l(this).constructor;r=Reflect.construct(n,arguments,t)}else r=n.apply(this,arguments);return a(this,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const f=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,e);const n=s(r);function r(){let t;const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.tagName,c=void 0===i?"":i,u=e.attributes,s=void 0===u?[]:u,a=e.parent,l=void 0===a?{}:a,f=e.children,d=void 0===f?[]:f;return o(this,r),t=n.call(this,{parent:l,children:d}),t.tagName=c,t.attributes=s.concat([{name:"className",value:""},{name:"id",value:""},{name:"innerHTML",value:""}]),t.attributes.map((function(e){const n=e.name,r=e.value;return t[n]=r,{name:n,value:r}})),t.classList=t.className,t}var a,f,d;return a=r,(f=[{key:"applyDefaultEvent",value:function(){const e=this;let n=function(t){};switch(this.tagName){case"form":this.addEventListener("submit",n);break;case"button":case"input":/^(submit|image)$/i.test(this.type||"")&&(n=function(n){const r=t("./PseudoEvent").getParentNodesFromAttribute("tagName","form",e);r&&r[0].submit()},c(l(r.prototype),"setDefaultEvent",this).call(this,"click",n))}return n}},{key:"appendChild",value:function(t){return c(l(r.prototype),"appendChild",this).call(this,t),t.applyDefaultEvent(),t}},{key:"hasAttribute",value:function(t){return"undefined"!==this.getAttribute(t)}},{key:"setAttribute",value:function(t,e){(this.hasAttribute(t)||"undefined"===this[t])&&(this[t]=e,this.attributes.push({name:t,value:e}))}},{key:"getAttribute",value:function(t){return this.attributes.find((function(e){return e.name===t}))}},{key:"removeAttribute",value:function(t){return this.hasAttribute(t)&&(delete this[t],this.getAttribute(t)),null}}])&&i(a.prototype,f),d&&i(a,d),r}(t("./PseudoNode"));e.exports=f},{"./PseudoEvent":11,"./PseudoNode":16}],11:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const i=t("../../core/core.js").curry,c=function(){function t(){const e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.bubbles,c=void 0===i||i,u=o.cancelable,s=void 0===u||u,a=o.composed,l=void 0===a||a;r(this,t);let f={bubbles:c,cancelable:s,composed:l,currentTarget:function(){},defaultPrevented:!1,immediatePropagationStopped:!1,propagationStopped:!1,eventPhase:"",target:function(){},timeStamp:Math.floor(Date.now()/1e3),type:n,isTrusted:!0};this.setReadOnlyProperties=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f=Object.assign({},f,t),e.getReadOnlyProperties=function(t){return function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t[e]}}(f),f},this.setReadOnlyProperties(),Object.keys(f).map((function(t){return Object.defineProperty(e,t,{enumerable:!0,get:function(){return e.getReadOnlyProperties(t)}})}))}var e,n,c;return e=t,c=[{key:"getParentNodesFromAttribute",value:function(e,n,r){return Object.keys(r.parent).length?(r.parent[e]||!1)===n?t.getParentNodesFromAttribute(e,n,r.parent).concat([r.parent]):t.getParentNodesFromAttribute(e,n,r.parent):[]}},{key:"getParentNodes",value:function(){return i(t.getParentNodesFromAttribute)("",!1)()}}],(n=[{key:"composedPath",value:function(){switch(this.eventPhase){case t.CAPTURING_PHASE:return t.getParentNodes(this.target);case t.BUBBLING_PHASE:return t.getParentNodes(this.target).slice().reverse();case t.AT_TARGET:return[this.target];default:return[]}}},{key:"preventDefault",value:function(){return this.setReadOnlyProperties({defaultPrevented:!0}),null}},{key:"stopImmediatePropagation",value:function(){return this.setReadOnlyProperties({immediatePropagationStopped:!0}),null}},{key:"stopPropagation",value:function(){return this.setReadOnlyProperties({propagationStopped:!0}),null}}])&&o(e.prototype,n),c&&o(e,c),t}();["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"].reduce((function(t,e,n){return Object.defineProperty(c,e,{value:n,writable:!1,static:{get:function(){return n}}}),Object.assign({},t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"".concat(e),n))}),{}),e.exports=c},{"../../core/core.js":5}],12:[function(t,e,n){"use strict";const r=t("./PseudoEvent"),o={eventType:"",eventOptions:{capture:!1,once:!1,passive:!1},isDefault:!1,handleEvent:function(t){},doCapturePhase:function(t){return t.eventPhase===r.CAPTURING_PHASE&&this.eventOptions.capture},doTargetPhase:function(t){return t.eventPhase===r.AT_TARGET},doBubblePhase:function(t){return t.eventPhase===r.BUBBLING_PHASE&&(t.bubbles||!this.eventOptions.capture)},skipPhase:function(t){return!this.doCapturePhase(t)&&!this.doTargetPhase(t)&&!this.doBubblePhase(t)},skipDefault:function(t){return this.isDefault&&t.defaultPrevented},stopPropagation:function(t){return!this.doTargetPhase(t)&&t.propagationStopped},nonPassiveHalt:function(t){return!this.eventOptions.passive&&(this.skipDefault(t)||t.immediatePropagationStopped||this.stopPropagation(t))},rejectEvent:function(t){return this.nonPassiveHalt(t)||this.skipPhase(t)}};e.exports=o},{"./PseudoEvent":11}],13:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const i=t("./PseudoEvent"),c=t("./PseudoEventListener"),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners=[],this.defaultEvent=[]}var e,n,u;return e=t,(n=[{key:"runEvents",value:function(t){if(!(t.type in this.listeners))return!0;const e=this.listeners[t.type];let n=null;return this.listeners[t.type]=e.reduce((function(e,r){return t.immediatePropagationStopped||r.rejectEvent(t)?e.concat(r):(n=r.handleEvent(t),r.eventOptions.once?(t.currentTarget.removeEventListener(t.eventType,t.handleEvent),e):e.concat(r))}),[]),n}},{key:"setDefaultEvent",value:function(t,e){const n=this;t in this.listeners||(this[t]=function(){return n.startEvents(t)},this.listeners[t]=[]),this.defaultEvent[t]=e}},{key:"runDefaultEvent",value:function(t){if(t.defaultPrevented)return!1;this.defaultEvent[t.type](t)}},{key:"startEvents",value:function(t){const e=this,n=new i(t);return n.setReadOnlyProperties({target:this}),console.log("startEvents",n.type,n.target),[i.CAPTURING_PHASE,i.AT_TARGET,i.BUBBLING_PHASE].forEach((function(r){let o=null;r!==i.AT_TARGET&&n.propagationStopped||(n.setReadOnlyProperties({eventPhase:r}),n.composedPath().forEach((function(t){n.setReadOnlyProperties({currentTarget:t}),o=n.currentTarget.runEvents(n)}))),n.eventPhase===i.AT_TARGET&&"boolean"!=typeof o&&e.defaultEvent[t]&&e.runDefaultEvent(n)})),!0}},{key:"addEventListener",value:function(t,e){const n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];let i={capture:!1,once:!1,passive:!1};"object"===r(o)?i=Object.keys(o).reduce((function(t,e){return t[e]=o[e],t}),i):i.capture=o,t in this.listeners||(this[t]=function(){return n.startEvents(t)},this.listeners[t]=[]),this.listeners[t]=this.listeners[t].concat([Object.assign(Object.create(c),c,{eventType:t,eventOptions:Object.assign({},c.eventOptions,i),handleEvent:(e.handleEvent||e).bind(this)})]);const u=this.listeners[t].reduce((function(t,e){return e.isDefault?Object.assign({},t,{default:t.default.concat([e])}):Object.assign({},t,{explicit:t.explicit.concat([e])})}),{explicit:[],default:[]});this.listeners[t]=[].concat(u.explicit,u.default)}},{key:"removeEventListener",value:function(t,e){if(!(t in this.listeners))return;const n=this.listeners[t];for(let t=0,r=n.length;t<r;t++)if(n[t].handleEvent===e&&!n[t].isDefault)return void n.splice(t,1)}},{key:"dispatchEvent",value:function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return t.setReadOnlyProperties({target:e}),!(t.type in this.listeners)||(this.runEvents(t),!t.defaultPrevented)}}])&&o(e.prototype,n),u&&o(e,u),t}();e.exports=u},{"./PseudoEvent":11,"./PseudoEventListener":12}],14:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){const e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){const n=a(t);let r;if(e){const t=a(this).constructor;r=Reflect.construct(n,arguments,t)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const l=t("./PseudoHTMLElement"),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);const e=c(n);function n(){let t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t=e.call(this);const r=new l({tagName:"html",parent:s(t)});return t.head=new l({tagName:"head",parent:r}),t.body=new l({tagName:"body",parent:r}),r.children=[t.head,t.body],t.children=[r],t}var r,u,a;return r=n,(u=[{key:"createElement",value:function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=new l({tagName:t});return e.parent=this,e}}])&&o(r.prototype,u),a&&o(r,a),n}(l);e.exports=f},{"./PseudoHTMLElement":15}],15:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){const e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){const n=s(t);let r;if(e){const t=s(this).constructor;r=Reflect.construct(n,arguments,t)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);const e=c(n);function n(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tagName,i=void 0===r?"":r,c=t.parent,u=void 0===c?{}:c,s=t.children,a=void 0===s?[]:s;return o(this,n),e.call(this,{tagName:i,attributes:[{name:"hidden",value:!1},{name:"offsetHeight",value:0},{name:"offsetLeft",value:0},{name:"offsetParent",value:null},{name:"offsetTop",value:0},{name:"offsetWidth",value:0},{name:"style",value:{}},{name:"title",value:""}],parent:u,children:a})}return n}(t("./PseudoElement"));e.exports=a},{"./PseudoElement":10}],16:[function(t,e,n){"use strict";function r(t,e){for(let n=0;n<e.length;n++){const r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){const e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){const n=f(t);let r;if(e){const t=f(this).constructor;r=Reflect.construct(n,arguments,t)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const d=t("../../collections/TreeLinker"),m=t("./PseudoEventTarget"),p=function(t){u(n,t);const e=a(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);e.exports.generateNode=function(){return p.fromArray=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return t.reduce((function(t,r){"object"!==i(r)&&(r={data:r});let s=!1;null===t&&(s=!0,t=new n(Object.assign({},r,{prev:t})));const l=function(e){u(i,e);const n=a(i);function i(){let t;return c(this,i),t=n.call(this),t.nodeValue=r.data,t.textContext="",t}return o(i,[{key:"baseURI",get:function(){return window.location||"/"}},{key:"childNodes",get:function(){return t.children}},{key:"firstChild",get:function(){return t.children.first.data}},{key:"isConnected",get:function(){return null!==t.parent}},{key:"lastChild",get:function(){return t.children.last.data}},{key:"nextSibling",get:function(){return t.next.data}},{key:"nodeName",get:function(){return this.name||""}},{key:"nodeType",get:function(){return["DEFAULT_NODE","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"].indexOf("DEFAULT_NODE")}},{key:"ownerDocument",get:function(){return t.rootParent}},{key:"parentNode",get:function(){return t.parent}},{key:"parentElement",get:function(){return 1===t.parent.nodeType?t.parent:null}},{key:"previousSibling",get:function(){return t.prev}},{key:"appendChild",value:function(e){return t.after(t,[e]),e}},{key:"cloneNode",value:function(){}},{key:"compareDocumentPosition",value:function(){}},{key:"contains",value:function(){}},{key:"getRootNode",value:function(){return t.rootParent}},{key:"hasChildNodes",value:function(){}},{key:"insertBefore",value:function(){}},{key:"isDefaultNamespace",value:function(){}},{key:"isEqualNode",value:function(){}},{key:"isSameNode",value:function(){}},{key:"lookupPrefix",value:function(){}},{key:"lookupNamespaceURI",value:function(){}},{key:"normalize",value:function(){}},{key:"removeChild",value:function(t){return this.children.splice(this.children.indexOf(t),1)[0]}},{key:"replaceChild",value:function(){}}]),i}(m);return e.exports.PseudoNode=l,s?(t.data=new l,t):(r.data=new l,d.prototype.after.apply(t,[r]))}),null)},p},e.exports.NodeFactory=p},{"../../collections/TreeLinker":4,"./PseudoEventTarget":13}],17:[function(t,e,n){"use strict";(function(){const r=this||{},o=r.jDomPseudoDom||{},i={};r.jDomPseudoDom=i,i.noConflict=function(){return r.jDomPseudoDom=o,i},i.PseudoEvent=t("./class/PseudoEvent"),i.PseudoEventTarget=t("./class/PseudoEventTarget"),i.PseudoNode=t("./class/PseudoNode"),i.PseudoElement=t("./class/PseudoElement"),i.PseudoHTMLElement=t("./class/PseudoHTMLElement"),i.PseudoHTMLDocument=t("./class/PseudoHTMLDocument"),i.generate=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0===r.document?r:new i.PseudoEventTarget,n=r.Node||new i.PseudoNode;void 0===e.Node&&(e.Node=n);const o=r.Element||new i.PseudoElement;void 0===e.Element&&(e.Element=o);const c=r.HTMLElement||new i.PseudoHTMLElement;void 0===e.HTMLElement&&(e.HTMLElement=c);const u=r.document||new i.PseudoHTMLDocument;return void 0===e.document&&(e.document=u),t?Object.assign(t,i,e):Object.assign(r,e)},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=i),n=Object.assign(n,i))}).call(window||{})},{"./class/PseudoElement":10,"./class/PseudoEvent":11,"./class/PseudoEventTarget":13,"./class/PseudoHTMLDocument":14,"./class/PseudoHTMLElement":15,"./class/PseudoNode":16}],18:[function(t,e,n){"use strict";(function(){const r=this||{},o=r.gameLayout||{},i={};r.gameLayout=i,i.noConflict=function(){return r.gameLayout=o,i};let c=r.jDomObjects;void 0===c&&(void 0!==t?c=t("./jDom/core/dom/objects.js"):console.error("layout.js requires jDomObjects")),i.mainMenu=function(){return c.createDomItem({tagName:"div",attributes:{className:"main-menu"},children:[{tagName:"div",attributes:{className:"content"},children:[{tagName:"form",attributes:{name:"mainMenuForm",className:"main-menu-form"},eventListeners:{submit:{listenerFunc:"beginRound",listenerArgs:{},listenerOptions:!1}},children:[{tagName:"div",attributes:{className:"form-group"},children:[{tagName:"label",attributes:{for:"human-players",innerText:"Humans"}},{tagName:"input",attributes:{id:"human-players",name:"human-players",type:"number",value:0,min:0,max:100,required:""}}]},{tagName:"div",attributes:{className:"form-group"},children:[{tagName:"label",attributes:{for:"robot-players",innerText:"Robots"}},{tagName:"input",attributes:{id:"robot-players",name:"robot-players",type:"number",value:0,min:0,max:100,required:""}}]},{tagName:"label",attributes:{for:"first-go-first",innerText:"First Player Starts"}},{tagName:"input",attributes:{id:"first-go-first",name:"first-go-first",type:"checkbox"}},{tagName:"input",attributes:{type:"submit",value:"Start"}}]}]}]})},i.boards=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c.createDomItem({tagName:"div",attributes:{className:"boards"},children:t})},i.finalScore=function(t){return c.createDomItem({tagName:"div",attributes:{className:"final-scores"},children:[{tagName:"div",attributes:{className:"score-cards"},children:t.map((function(t){return{tagName:"div",attributes:{className:"score-card",innerHTML:"<strong>".concat(t.name,"</strong><hr><br></strong><strong>Status:</strong> ").concat(Math.round(100*t.status)/100,"%, <strong>Sunk:</strong> ").concat(t.attacks.sunk,"<br><strong>Hit:</strong> ").concat(t.attacks.hit," / <strong>Miss:</strong> ").concat(t.attacks.miss,"<br><strong>Turns:</strong> ").concat(t.turnCnt)}}}))},{tagName:"input",attributes:{type:"button",value:"Restart"},eventListeners:{click:{listenerFunc:"restart",listenerArgs:{},listenerOptions:!1}}}]})},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=i),n=Object.assign(n,i))}).call(window||{})},{"./jDom/core/dom/objects.js":7}],19:[function(t,e,n){"use strict";(function(){const r=this||{},o=r.gameMain||{},i={};r.gameMain=i,i.noConflict=function(){return r.gameMain=o,i};const c=r.jsonDom;let u=r.gameActions;void 0===u&&(void 0!==t?u=t("./actions.js"):console.error("main.js requires game/actions"));let s=r.gameStart;void 0===s&&(void 0!==t?s=t("./setup.js"):console.error("main.js requires game/setup"));const a=s.main(c.documentDomItem({beginRound:s.beginRound,attackListener:u.attackListener,restart:s.restart}));if(console.log("Document Item: ",a),"undefined"==typeof document||!(document instanceof HTMLDocument)){const t=c.getChildrenByClass("main-menu-form",a.body)[0];c.getChildrenFromAttribute("type","submit",t)[0].element.click()}void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=i),n=Object.assign(n,i))}).call(window||{})},{"./actions.js":1,"./setup.js":21}],20:[function(t,e,n){"use strict";(function(){const r=this||{},o=r.gamePieces||{},i={};r.gamePieces=i,i.noConflict=function(){return r.gamePieces=o,i};let c=r.jDomCore;void 0===c&&(void 0!==t?c=t("./jDom/core/core.js"):console.error("pieces.js requires jDom/core/core"));let u=r.jDomObjects;void 0===u&&(void 0!==t?u=t("./jDom/core/dom/objects.js"):console.error("setup.js requires jDom/core/dom/objects"));let s=r.jDomMatrixObjects;void 0===s&&(void 0!==t?s=t("./jDom/matrix/objects.js"):console.error("pieces.js requires jDom/matrix/objects"));i.waterTile=function(){return c.mergeObjects(u.createDomItem({hasShip:!1,isHit:!1}),s.tile())},i.shipTile=function(){return{hasShip:!0}},i.ship=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:t,status:100,parts:[]}},i.hitTile=function(){return{isHit:!0}},i.playerSet=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{name:e,isRobot:!1,status:100,turnCnt:0,attacker:!1,attacks:{hit:0,miss:0,sunk:0},board:t,shipFleet:[],playerStats:{},tagName:"div",attributes:{className:"player"},children:[t]}},i.playerStats=function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{tagName:"div",attributes:{},children:[{tagName:"span",attributes:{innerHTML:"<strong>".concat(t.name,"</strong>: ").concat(e)}},{tagName:"ul",attributes:{},children:t.shipFleet.map((function(t){return{tagName:"li",attributes:{innerHTML:"<strong>".concat(t.name," (").concat(t.parts.length,"):</strong> ").concat(Math.round(100*t.status)/100,"%")}}}))}]}},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=i),n=Object.assign(n,i))}).call(window||base||{})},{"./jDom/core/core.js":5,"./jDom/core/dom/objects.js":7,"./jDom/matrix/objects.js":9}],21:[function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);let n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(function(){const o=this||{},i=o.gameStart||{},c={};o.gameStart=c,c.noConflict=function(){return o.gameStart=i,c};let u=o.jDomCore;void 0===u&&(void 0!==t?u=t("./jDom/core/core.js"):console.error("setup.js requires jDom/core/core"));let s=o.jDomCoreDom;void 0===s&&(void 0!==t?s=t("./jDom/core/dom/core.js"):console.error("setup.js requires jDom/core/dom/core"));let a=o.jDomMatrixCore;void 0===a&&(void 0!==t?a=t("./jDom/matrix/core.js"):console.error("setup.js requires jDom/matrix/core"));let l=o.jDomMatrixObjects;void 0===l&&(void 0!==t?l=t("./jDom/matrix/objects.js"):console.error("setup.js requires jDom/matrix/objects"));let f=o.gameLayout;void 0===f&&(void 0!==t?f=t("./layout.js"):console.error("setup.js requires game/layout"));let d=o.gamePieces;void 0===d&&(void 0!==t?d=t("./pieces.js"):console.error("setup.js requires game/pieces"));let m=o.gameUtils;void 0===m&&(void 0!==t?m=t("./functions.js"):console.error("setup.js requires game/functions"));let p=o.gameActions;void 0===p&&(void 0!==t?p=t("./actions.js"):console.error("setup.js requires game/actions"));const h=function(t,e,n){const r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return u.mergeObjects(d.ship(t.name),{parts:e.map((function(t){return p.setShip(n,t,r)}))})},y=function(t,e){return a.randDirection([l.point(1,0,0),l.point(0,1,0),l.point(0,0,1)].filter((function(n){return t[a.getFirstAxisOfCoordinate(n,1)]>e})))},b=function(t,e){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y(t,e);return{start:a.randomStart(e,n,t),dir:n}},g=function t(e,n,r){let o;const i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b(r,n);return 0===a.getHighestAbsoluteCoordinate(i.dir)?[l.point(0,0,0),l.point(0,0,0)]:(o=a).checkInBetween.apply(o,[i.start,a.lineEndPoint(i.start,n,i.dir)].concat([e,m.checkIfShipCell]))?t(e,n,r):[i.start,a.lineEndPoint(i.start,n,i.dir)]},v=u.curry((function(t,e){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.map((function(t){let o;return h(t,(o=a).getPointsLine.apply(o,r(g(e,t.size,a.getAxisLengths(e)))),e,n)}))}))([{name:"Aircraft Carrier",size:5},{name:"Battleship",size:4},{name:"Submarine",size:3},{name:"Cruiser",size:3},{name:"Destroyer",size:2}]);c.beginRound=function(t,e){if(2!==t.eventPhase)return!1;console.log("beginRound",t.eventPhase,t.type),t.preventDefault();const n=s.getTopParentItem(e);let r=parseInt(s.getChildrenByName("human-players",e)[0].element.value),o=parseInt(s.getChildrenByName("robot-players",e)[0].element.value);if(r<0||r>100||o<0||o>100)return!1;const i=s.getChildrenByName("first-go-first",e)[0].element.checked;r=r<0?0:r,0===r&&(o=o<2?2:o),1===r&&(o=o<1?1:o),s.removeChild(s.getChildrenByClass("main-menu",n.body)[0],n.body);const c=s.renderHTML(f.boards(function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<1&&n<1)return r;const o=d.playerSet({},"Player ".concat(r.length+1));return o.isRobot=e<=0,o.board=a.bindPointData(l.square({x:[d.waterTile(o,r)],matrixProps:[{eventListeners:{click:{listenerFunc:"attackListener",listenerArgs:{},listenerOptions:!1}}}]},10)),o.shipFleet=v(o.board,!1),o.playerStats=d.playerStats(o,"".concat(Math.round(100*o.status)/100,"%")),o.children=[o.board,o.playerStats],r.push(o),t(--e,e<0?--n:n,r)}(r,o)),n).children,m=p.updatePlayer(i?c[0]:c[u.randomInteger(c.length)]);return m.isRobot&&p.computerAttack(m,c),!1},c.main=function(t){for(let e=t.body.children.length-1;e>=0;--e)s.removeChild(t.body.children[e],t.body);return s.renderHTML(f.mainMenu(),t),t},c.restart=function(t,e){return c.main(s.getTopParentItem(e))},void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=c),n=Object.assign(n,c))}).call(window||{})},{"./actions.js":1,"./functions.js":2,"./jDom/core/core.js":5,"./jDom/core/dom/core.js":6,"./jDom/matrix/core.js":8,"./jDom/matrix/objects.js":9,"./layout.js":18,"./pieces.js":20}]},{},[19]);