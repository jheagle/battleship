<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: objects-dom.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: objects-dom.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Core DOM Objects
/**
 * This is the standard definition of a listenerFunction to be used
 * @callback listenerFunction
 * @param {Event} e - The event object passed to the listener
 * @param {DOMItem} target - The element which triggered the event
 * @param {...*} [args] - Optional args as required by the listener
 */

/**
 * An EventListener Object to be appended to the element within the DOMItem
 * @typedef {Object} EventListener
 * @property {string} listenerFunc - A string function name matching an existing {@link listenerFunction}.
 * @property {Object} listenerArgs - Additional args required for the listener function
 * @property {(boolean|Object)} listenerOptions - Provides support for options parameter of addEventListener, or false for default
 */

/**
 * DOMItem defines the structure for a single element in the DOM
 * @typedef {Object} DOMItem
 * @property {string} tagName - This is any valid HTMLElement tagName
 * @property {Object.&lt;string, string|Object>} attributes - All potential HTML element attributes can be defined here (including the defaulted styles object)
 * @property {(Object|HTMLElement)} element - A reference to an existing HTML element will be stored here (default empty object)
 * @property {Object.&lt;Event, EventListener>} eventListeners - An object holding all events to be registered for the associated element
 * @property {DOMItem} parentItem - A reference to the parent of this object
 * @property {Array.&lt;DOMItem>} children - A reference to an array of child objects
 */

/**
 * This is the basic Object for representing the DOM in a virtual perspective. All incoming attributes will be merged to the specified format.
 * @param {...Object} attributes - DOMItem-like object(s) to be merged as a DOMItem
 * @returns {DOMItem}
 * @constructor
 */
const DOMItem = (...attributes) => mergeObjectsMutable({
    tagName: 'div',
    attributes: {
        styles: {}
    },
    element: {},
    eventListeners: {},
    parentItem: {},
    children: []
}, ...attributes)

/**
 * DOMItemHead defines the structure for a single element in the DOM
 * @typedef {DOMItem} DOMItemHead
 * @property {string} [tagName=head] - This is set to the string head referring to the HTML element of the same name
 * @property {Object.&lt;string, string|Object>} attributes - All potential HTML element attributes can be defined here
 * @property {HTMLHeadElement} element - A reference to the HTML head element
 * @property {Array.&lt;DOMItem>} children - A reference to an array of child objects
 * @augments DOMItem
 */

/**
 * DOMItemBody defines the structure for a single element in the DOM
 * @typedef {DOMItem} DOMItemBody
 * @property {string} [tagName=body] - This is set to the string body referring to the HTML element of the same name
 * @property {Object.&lt;string, string|Object>} attributes - All potential HTML element attributes can be defined here
 * @property {HTMLElement} element - A reference to the HTML body element
 * @property {Array.&lt;DOMItem>} children - A reference to an array of child objects
 * @augments DOMItem
 */

/**
 * Initiate the children of Root / DocumentItem. This is a helper for {@link documentDOMItem}.
 * @returns {Array.&lt;DOMItemHead|DOMItemBody>}
 */
const initChildren = () => [
    DOMItem({
        tagName: 'head',
        attributes: {},
        element: document.head,
        children: []
    }),
    DOMItem({
        tagName: 'body',
        attributes: {},
        element: document.body,
        children: []
    }),
]

/**
 * DOMItemRoot defines the structure for a single element in the DOM
 * @typedef {DOMItem} DOMItemRoot
 * @property {string} [tagName=html] - This is set to the string html referring to the HTML element of the same name
 * @property {Object} attributes - Empty object as attributes placeholder
 * @property {HTMLDocument} element - A reference to the entire Document
 * @property {Object.&lt;string, listenerFunction>} EventListeners - all registered listeners stored as listener name and function pairs
 * @property {Array.&lt;DOMItemHead|DOMItemBody>} children - Two references: for head and body
 * @property {DOMItemHead} head - A specific reference to head item
 * @property {DOMItemBody} body - A specific reference to body item
 * @augments DOMItem
 */

/**
 * Initiate the Root for DocumentItem. This is primary a helper for {@link documentDOMItem}.
 * @param {Array.&lt;DOMItemHead|DOMItemBody>} children - Provide an array of Head and Body (usually via {@link initChildren})
 * @param {Array.&lt;listenerFunction>} listeners - An array of all event listeners to be registered in the DOM
 * @returns {DOMItemRoot}
 */
const initRoot = (children, listeners = []) => DOMItem({
    tagName: 'html',
    attributes: {},
    element: document,
    eventListeners: listeners.reduce((initial, listener) => mergeObjects(initial, {[`${listener.name}`]: listener}), {}),
    children: children,
    head: children[0],
    body: children[1],
})

/**
 * Return a DOMItem style reference to the document. The rootItem argument is a
 * system function and not necessary to implement.
 * @param {Array.&lt;listenerFunction>} listeners - An array of all event listeners to be registered in the DOM
 * @param {Object} [rootItem=DOMItemRoot] - This is a reference to DOMItemRoot which will be defaulted with {@link initRoot}
 * @returns {DOMItemRoot}
 */
const documentDOMItem = (listeners = [], rootItem = initRoot(initChildren(), listeners)) => DOMItem(rootItem, {
    children: rootItem.children.map(child => DOMItem(child, {parentItem: rootItem}))
})

/**
 * Create reference for storing document changes
 * @type {DOMItem}
 */
const documentItem = documentDOMItem()</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="global.html#DOMItem">DOMItem</a></li></ul><h3>Global</h3><ul><li><a href="global.html#appendAllHTML">appendAllHTML</a></li><li><a href="global.html#appendHTML">appendHTML</a></li><li><a href="global.html#appendListeners">appendListeners</a></li><li><a href="global.html#assignListener">assignListener</a></li><li><a href="global.html#bindAllElements">bindAllElements</a></li><li><a href="global.html#bindAllListeners">bindAllListeners</a></li><li><a href="global.html#bindElement">bindElement</a></li><li><a href="global.html#bindListeners">bindListeners</a></li><li><a href="global.html#buildArray">buildArray</a></li><li><a href="global.html#buildArrayBase">buildArrayBase</a></li><li><a href="global.html#buildArrayOfReferences">buildArrayOfReferences</a></li><li><a href="global.html#buildHTML">buildHTML</a></li><li><a href="global.html#cloneExclusions">cloneExclusions</a></li><li><a href="global.html#cloneExMap">cloneExMap</a></li><li><a href="global.html#cloneObject">cloneObject</a></li><li><a href="global.html#cloneRules">cloneRules</a></li><li><a href="global.html#cube">cube</a></li><li><a href="global.html#curry">curry</a></li><li><a href="global.html#documentDOMItem">documentDOMItem</a></li><li><a href="global.html#documentItem">documentItem</a></li><li><a href="global.html#elementChanges">elementChanges</a></li><li><a href="global.html#elementHasAttribute">elementHasAttribute</a></li><li><a href="global.html#filterObject">filterObject</a></li><li><a href="global.html#generateElement">generateElement</a></li><li><a href="global.html#getChildrenByClass">getChildrenByClass</a></li><li><a href="global.html#getChildrenByName">getChildrenByName</a></li><li><a href="global.html#getChildrenFromAttribute">getChildrenFromAttribute</a></li><li><a href="global.html#getMax">getMax</a></li><li><a href="global.html#getMaxOrMin">getMaxOrMin</a></li><li><a href="global.html#getMin">getMin</a></li><li><a href="global.html#getParentsByClass">getParentsByClass</a></li><li><a href="global.html#getParentsByName">getParentsByName</a></li><li><a href="global.html#getParentsFromAttribute">getParentsFromAttribute</a></li><li><a href="global.html#getTopParentItem">getTopParentItem</a></li><li><a href="global.html#inArray">inArray</a></li><li><a href="global.html#initChildren">initChildren</a></li><li><a href="global.html#initRoot">initRoot</a></li><li><a href="global.html#listenerOptions">listenerOptions</a></li><li><a href="global.html#mapObject">mapObject</a></li><li><a href="global.html#matrix">matrix</a></li><li><a href="global.html#mergeObjects">mergeObjects</a></li><li><a href="global.html#mergeObjectsBase">mergeObjectsBase</a></li><li><a href="global.html#mergeObjectsMutable">mergeObjectsMutable</a></li><li><a href="global.html#notEmptyObjectOrArray">notEmptyObjectOrArray</a></li><li><a href="global.html#point">point</a></li><li><a href="global.html#queueTimeout">queueTimeout</a></li><li><a href="global.html#randomInteger">randomInteger</a></li><li><a href="global.html#randomNumber">randomNumber</a></li><li><a href="global.html#recursiveMap">recursiveMap</a></li><li><a href="global.html#reduceObject">reduceObject</a></li><li><a href="global.html#registerListener">registerListener</a></li><li><a href="global.html#registerListeners">registerListeners</a></li><li><a href="global.html#removeChild">removeChild</a></li><li><a href="global.html#removeCircularReference">removeCircularReference</a></li><li><a href="global.html#renderHTML">renderHTML</a></li><li><a href="global.html#retrieveListener">retrieveListener</a></li><li><a href="global.html#square">square</a></li><li><a href="global.html#tile">tile</a></li><li><a href="global.html#updateElement">updateElement</a></li><li><a href="global.html#updateElements">updateElements</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Nov 01 2017 10:55:04 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
