<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: game/pieces.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: game/pieces.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict'
// Game specific objects
;(function () {
  /**
   * Store a reference to this scope which will be Window if rendered via browser
   */
  const root = this || {}

  /**
   * Store reference to any pre-existing module of the same name
   * @type {gamePieces|*}
   */
  const previousGamePieces = root.gamePieces || {}

  /**
   * A reference to all functions to be used globally / exported
   * @typedef (Object) gamePieces
   * @module game/pieces
   */
  const gamePieces = {}
  root.gamePieces = gamePieces

  /**
   * Return a reference to this library while preserving the original same-named library
   * @function noConflict
   * @returns {gamePieces}
   */
  gamePieces.noConflict = () => {
    root.gamePieces = previousGamePieces
    return gamePieces
  }

  /**
   * Verify availability of jDomCore
   * @typedef {*|module:jDom/core/core} jDomCore
   */
  let jDomCore = root.jDomCore

  /**
   * If gameUtils remains undefined, attempt to retrieve it as a module
   */
  if (typeof jDomCore === 'undefined') {
    if (typeof require !== 'undefined') {
      jDomCore = require('../jDom/core/core.js')
    } else {
      console.error('pieces.js requires jDom/core/core')
    }
  }

  /**
   * Verify availability of jDomObjects
   * @typedef {*|module:jDom/core/dom/objects} jDomObjects
   */
  let jDomObjects = root.jDomObjects

  /**
   * If jDomObjects remains undefined, attempt to retrieve it as a module
   */
  if (typeof jDomObjects === 'undefined') {
    if (typeof require !== 'undefined') {
      jDomObjects = require('../jDom/core/dom/objects.js')
    } else {
      console.error('setup.js requires jDom/core/dom/objects')
    }
  }

  /**
   * Verify availability of jDomMatrixObjects
   * @typedef {*|module:jDom/matrix/objects} jDomMatrixObjects
   */
  let jDomMatrixObjects = root.jDomMatrixObjects

  /**
   * If jDomMatrixObjects remains undefined, attempt to retrieve it as a module
   */
  if (typeof jDomMatrixObjects === 'undefined') {
    if (typeof require !== 'undefined') {
      jDomMatrixObjects = require('../jDom/matrix/objects.js')
    } else {
      console.error('pieces.js requires jDom/matrix/objects')
    }
  }

  /**
   * Default properties for a tile in the battleship game.
   * @returns {module:jDom/core/dom/objects.DomItem}
   */
  const gameTile = () => jDomObjects.createDomItem({
    hasShip: false,
    isHit: false
  })

  /**
   * Set the style for tiles representing water.
   * @function waterTile
   * @returns {{hasShip: boolean, isHit: boolean, eventListeners: {click: {listenerFunc: attackListener, listenerArgs: {}, listenerOptions: boolean}}, point: {}}}
   */
  gamePieces.waterTile = () => jDomCore.mergeObjects(gameTile(), jDomMatrixObjects.tile())

  /**
   * Set status and custom properties for tiles that have a ship
   * @function shipTile
   * @returns {{hasShip: boolean}}
   */
  gamePieces.shipTile = () => ({
    hasShip: true
  })

  /**
   * Store properties of a ship which includes an array of all associated ship tiles.
   * @function ship
   * @param {string} name
   * @returns {{name: string, status: number, parts: Array}}
   */
  gamePieces.ship = (name = '') => ({
    name: name,
    status: 100,
    parts: []
  })

  /**
   * Set the status of the tile to hit.
   * @function hitTile
   * @returns {{isHit: boolean}}
   */
  gamePieces.hitTile = () => ({
    isHit: true
  })

  /**
   * Store the player attributes.
   * @function playerSet
   * @param {Object} board
   * @param {string} name
   * @returns {Object}
   */
  gamePieces.playerSet = (board = {}, name = '') => ({
    name: name,
    isRobot: false,
    status: 100,
    turnCnt: 0,
    attacker: false,
    attacks: {hit: 0, miss: 0, sunk: 0},
    board: board,
    shipFleet: [],
    playerStats: {},
    tagName: 'div',
    attributes: {
      className: 'player'
    },
    children: [
      board
    ]
  })

  /**
   * The defined attributes for each player
   * @function playerStats
   * @param {Object} [player={}]
   * @param {Object} [status=]
   * @returns {Object}
   */
  gamePieces.playerStats = (player = {}, status = '') => ({
    tagName: 'div',
    attributes: {},
    children: [
      {
        tagName: 'span',
        attributes: {
          innerHTML: `&lt;strong>${player.name}&lt;/strong>: ${status}`
        }
      },
      {
        tagName: 'ul',
        attributes: {},
        children: player.shipFleet.map(ship => ({
          tagName: 'li',
          attributes: {
            innerHTML: `&lt;strong>${ship.name} (${ship.parts.length}):&lt;/strong> ${Math.round(ship.status * 100) / 100}%`
          }
        }))
      }
    ]
  })

  /**
   * Either export all functions to be exported, or assign to the Window context
   */
  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' &amp;&amp; module.exports) {
      exports = module.exports = gamePieces
    }
    exports = Object.assign(exports, gamePieces)
  }
}).call(this || window || base || {}) // Use the external context to assign this, which will be Window if rendered via browser</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-game_actions.html">game/actions</a></li><li><a href="module-game_functions.html">game/functions</a></li><li><a href="module-game_layout.html">game/layout</a></li><li><a href="module-game_main.html">game/main</a></li><li><a href="module-game_pieces.html">game/pieces</a></li><li><a href="module-game_setup.html">game/setup</a></li><li><a href="module-jDom_core_core.html">jDom/core/core</a></li><li><a href="module-jDom_core_dom_core.html">jDom/core/dom/core</a></li><li><a href="module-jDom_core_dom_objects.html">jDom/core/dom/objects</a></li><li><a href="module-jDom_matrix_core.html">jDom/matrix/core</a></li><li><a href="module-jDom_matrix_objects.html">jDom/matrix/objects</a></li><li><a href="module-jDom_pseudoDom_objects.html">jDom/pseudoDom/objects</a></li></ul><h3>Classes</h3><ul><li><a href="LinkedList.html">LinkedList</a></li><li><a href="Linker.html">Linker</a></li><li><a href="PseudoElement.html">PseudoElement</a></li><li><a href="PseudoEvent.html">PseudoEvent</a></li><li><a href="PseudoEventListener.html">PseudoEventListener</a></li><li><a href="PseudoEventTarget.html">PseudoEventTarget</a></li><li><a href="PseudoHTMLDocument.html">PseudoHTMLDocument</a></li><li><a href="global.html#PseudoHTMLElement">PseudoHTMLElement</a></li><li><a href="PseudoNode.html">PseudoNode</a></li><li><a href="TreeLinker.html">TreeLinker</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Jan 23 2020 22:25:49 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
