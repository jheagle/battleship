"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=function(t){return function n(){for(var r=arguments.length,e=Array(r),o=0;o<r;o++)e[o]=arguments[o];return e.length>=t.length?t.apply(void 0,e):function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.apply(void 0,[].concat(e,r))}}},n=function(){return{hasShip:!1,isHit:!1,point:{},styles:{border:"1px solid #333",width:"24px",height:"24px",backgroundColor:"blue",cursor:"pointer"},events:{click:{f:"attackFleet",args:["shipFleet","point"]}},element:{}}},r=function(){return{hasShip:!0}},e=function(){return{isHit:!0}},o=function(){return{status:100,parts:[]}},u=function(t,n){return{x:t,y:n}},i=function(t,n){return t.z?{x:t.x+n.x,y:t.y+n.y,z:t.z+n.z}:{x:t.x+n.x,y:t.y+n.y}},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:t,status:100,board:{},shipFleet:[]}},f=function(t){return JSON.parse(JSON.stringify(t))},c=function(t,n){return Object.assign(t,n)},l=function t(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e=e.slice(),e.push(n),--r>0?t(f(n),r,e):e},s=t(l),y=s(n()),h=function(t,n){return s(y(t),n)},p=function(t){return h(t,t)},d=function(t,n){return n<t.length-1?++n:t.length-1},v=function(t){return t.isHit&&(t.styles.backgroundColor=t.hasShip?"red":"#222"),Object.keys(t.styles).length&&Object.keys(t.styles).forEach(function(n){return t.element.style[n]=t.styles[n]}),t},b=function t(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=e||0,o=function(t){return d(n,t)};if(0===e){var u=function(){var u=[];Array.isArray(n[e])&&(u=n[e].map(function(t){return document.createElement(t)})),r.forEach(function(r){return u[u.length-1].appendChild(t(n,r,o(e)))});var i=!1;return u.forEach(function(t){i&&i.appendChild(t),i=t}),{v:u[0]}}();if("object"===("undefined"==typeof u?"undefined":_typeof(u)))return u.v}if(Array.isArray(r)){var i=function(){var u=document.createElement(n[e]);return r.forEach(function(r){return u.appendChild(t(n,r,o(e)))}),{v:u}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}var a=document.createElement(n[e]);return r instanceof Object&&(r=v(c(r,{element:a}))),a},g=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;return r.appendChild(b(t,n))},m=t(g),x=m([["table","tbody"],"tr","td"]),S=function(t,n,r,e){return v(c(n[e][r],t))},k=t(S),C=function(t,n,r,e,o){return v(c(n[e][r][o],t))},E=(t(C),k(c(r(),{styles:{backgroundColor:"#777"}}))),O=k(r()),j=function(t,n,r){return r?E(t,n.x,n.y):O(t,n.x,n.y)},A=k(e()),F=function(t,n){return n[t.y][t.x].hasShip},M=function(t,n,r){if(F(t,r)||F(n,r))return!0;var e=n.x-t.x,o=n.y-t.y;if(e>0){for(var u=t.x;u<n.x;++u)if(F({x:u,y:t.y},r))return!0}else if(o>0)for(var i=t.y;i<n.y;++i)if(F({x:t.x,y:i},r))return!0;return!1},H=function(t,n,r,e){for(var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=o(),f=n,c=0;c<t;++c)a.parts.push(j(e,f,u)),f=i(f,r);return a},z=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=[];for(var o in t){var i=u(0,0),a=0,f=u(0,1),c=u(0,0);do i=u(Math.floor(Math.random()*(11-t[o])),Math.floor(Math.random()*(11-t[o]))),a=Math.floor(2*Math.random()),f=0===a?u(0,1):u(1,0),c=u(i.x+f.x*(t[o]-1),i.y+f.y*(t[o]-1));while(M(i,c,n));e.push(H(t[o],i,f,n,r))}return e},w=t(z),_=w([5,4,3,3,2]),J=function(t,n,r){A(r,n.x,n.y);return A(r,n.x,n.y).isHit?t.map(function(t){if(t.hasOwnProperty("parts")){var n=t.parts.filter(function(t){return!t.isHit});t.status=n.length/t.parts.length*100}return t}):t},N=function(t){for(var n=[],r=0;r<t;++r){var e=a();e.board=p(10),x(e.board,document.body),e.shipFleet=_(e.board,!0),n.push(e)}return n},P=N(1);console.log(P),J(P[0].shipFleet,u(2,5),P[0].board),J(P[0].shipFleet,u(3,5),P[0].board)}();